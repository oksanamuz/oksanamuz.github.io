(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{XWda:function(e,t,i){"use strict";i.r(t),i.d(t,"HomeModule",(function(){return j}));var s=i("ofXK"),n=i("mrSG"),l=i("lJxs"),o=i("fXoL"),c=i("gBDi"),r=i("tyNb"),a=i("f3AP"),d=i("EgnG"),h=i("NFeN"),u=i("sYmb");const g=["slider"];function p(e,t){if(1&e){const e=o.Ub();o.Tb(0,"li",5),o.Tb(1,"img",6),o.ac("load",(function(){o.uc(e);const i=t.index;return o.ec().imageLoaded(i)})),o.Sb(),o.Tb(2,"div",7),o.Tb(3,"div",8),o.Ob(4,"h2",9),o.Tb(5,"span",10),o.Fc(6),o.Sb(),o.Tb(7,"button",11),o.ac("click",(function(){o.uc(e);const i=t.$implicit;return o.ec().viewDetails.emit(i.id)})),o.Fc(8),o.fc(9,"translate"),o.Sb(),o.Sb(),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit;o.Bb(1),o.jc("src",e.imageUrl,o.wc)("alt",e.name),o.Bb(3),o.jc("innerHTML",e.title,o.vc),o.Bb(2),o.Gc(e.descriptionShort),o.Bb(2),o.Hc(" ",o.gc(9,5,"buttons.viewProject")," ")}}function y(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div"),o.Tb(1,"a",12),o.ac("click",(function(t){return o.uc(e),o.ec().onNextClick(t)})),o.Tb(2,"mat-icon"),o.Fc(3,"keyboard_arrow_right"),o.Sb(),o.Sb(),o.Tb(4,"a",13),o.ac("click",(function(t){return o.uc(e),o.ec().onPrevClick(t)})),o.Tb(5,"mat-icon"),o.Fc(6,"keyboard_arrow_left"),o.Sb(),o.Sb(),o.Sb()}2&e&&o.jc("@fadeInOut",void 0)}let f=(()=>{class e{constructor(){this.activeSlide=0,this.viewDetails=new o.o,this.settings={speed:800,autoPlay:!1,interval:6e3,rows:7,nextButtonId:"#project-gallery-next",previousButtonId:"#project-gallery-prev"}}ngOnInit(){}imageLoaded(e){this.slides[e].loaded=!0,this.slides.every(e=>e.loaded)&&(this.initSettings(),this.init())}initSettings(){this.config={sizes:{},player:!1,onPlay:!1,stripbuilded:!1,slides:document.querySelectorAll(".hero-slide-item")}}get activeSlideNumber(){return this.activeSlide+1<10?"0"+(this.activeSlide+1):(this.activeSlide+1).toString()}setup(){if(!this.config.stripbuilded&&this.config.slides.length>1){let e,t=document.createDocumentFragment(),i=document.createElement("div");t.appendChild(i),i.id="sliderProgress",i.style.opacity="1",e="";for(let s=0;s<this.config.slides.length;s++)e+=`<a id="slide-bullet-${s}" data-index="${s}" href="#" style="width:${Math.round(100/this.config.slides.length)}%" class="${s===this.activeSlide?"current-bullet":""}"></a>`;i.innerHTML=`<div id="slideNumbering"><span class="current">${this.activeSlideNumber}</span> / ${this.config.slides.length<10?"0"+this.config.slides.length:this.config.slides.length}</div><div id="slideBullets">${e}</div>`,this.slider.nativeElement.appendChild(t),this.config.stripbuilded=!0,t=i=e=null}for(let e=0;e<this.config.slides.length;e++){const t=this.config.slides[e],i=t.querySelector("img"),s=t.sizes?t.sizes:{width:i.naturalWidth,height:i.naturalHeight,ratio:(i.naturalWidth/i.naturalHeight).toFixed(2)};this.config.sizes.w/s.width>this.config.sizes.h/s.height?(s.newWidth=this.config.sizes.w,s.newHeight=Math.ceil(this.config.sizes.w/s.ratio)):(s.newHeight=this.config.sizes.h,s.newWidth=Math.ceil(this.config.sizes.h*s.ratio)),s.top=(this.config.sizes.h-s.newHeight)/2,s.left=(this.config.sizes.w-s.newWidth)/2,i.style.maxWidth="none",i.style.width=s.newWidth+"px",i.style.height=s.newHeight+"px",i.style.top=s.top+"px",i.style.left=s.left+"px",t.sizes=s,t.querySelector(".gallery-content").length&&t.querySelectorAll(".text-part").length<1&&(t.querySelectorAll(".entry-title").forEach(e=>e.style.opacity="1"),t.querySelectorAll(".entry-title > *").forEach(e=>{e.innerHTML='<span class="word-part" style="display:inline-block">'+e.innerText.replace(/ /g,'</span> <span class="word-part" style="display:inline-block">')+"</span>"}),t.querySelectorAll(".entry-title > *").forEach(e=>{e.innerHTML=e.innerText.split("").map(e=>'<span class="text-part" style="display:inline-block">'+e.replace(/ /g,'</span> <span class="word-part" style="display:inline-block">')+"</span>").join("")}))}}play(){this.attachButtonListener(),Object(d.a)({targets:this.config.slides[this.activeSlide],scale:[1.2,1],opacity:[0,1],duration:this.settings.speed,easing:"easeInOutQuad",complete:()=>{this.showContent(),this.config.slides[this.activeSlide].style["z-index"]=2}})}showContent(){const e=this.config.slides[this.activeSlide];if(e.querySelector(".gallery-content")){const t=e.querySelectorAll(".text-part");if(Object(d.a)({targets:e.querySelector(".gallery-content"),opacity:[0,1],duration:500,easing:"linear"}),t.length<1)return e.querySelectorAll(".container > *").forEach(e=>e.style.opacity=0),void Object(d.a)({targets:e.querySelector(".container").querySelectorAll(":scope > *"),translateY:[50,0],opacity:1,easing:"easeInOutQuad",duration:500,delay:(e,t,i)=>50*t});e.querySelectorAll(".text-part").forEach(e=>e.style.opacity="0"),e.querySelectorAll(".container > *:not(.entry-title)").forEach(e=>e.style.opacity="0"),Object(d.a)({targets:t,opacity:1,translateX:[20,0],translateY:[50,0],translateZ:[0,0],duration:700,easing:"easeInOutQuad",delay:(e,t,i)=>50*t,complete:()=>{const t=e.querySelector(".container > .project-cat"),i=e.querySelector(".container > .btn");Object(d.a)({targets:[t,i],translateY:[50,0],opacity:1,easing:"easeInOutQuad",duration:500,delay:(e,t,i)=>50*t})}})}}hideContent(e){const t=e,i=t.querySelectorAll(".text-part");i.length<1&&Object(d.a)({targets:t.querySelector(".container").querySelectorAll(":scope > *"),translateY:[0,50],opacity:[1,0],easing:"easeInOutQuad",duration:500,delay:(e,t,i)=>50*t}),Object(d.a)({targets:i,opacity:[1,0],translateY:[0,50],duration:500,easing:"easeInOutQuad",delay:(e,t,i)=>50*t});const s=t.querySelector(".container > .project-cat"),n=t.querySelector(".container > .btn");Object(d.a)({targets:[s,n],opacity:[1,0],translateY:[0,50],easing:"easeInOutQuad",duration:500,delay:(e,t,i)=>50*t}),Object(d.a)({targets:t.querySelector(".gallery-content"),opacity:[1,0],duration:500,easing:"linear"})}preparerow(e){const t=this.slider.nativeElement.querySelectorAll(".sliderRows"),i=this.activeSlide;let s=i;const n=this.config.slides[i].sizes;void 0===e&&(e="next"),"number"==typeof e?s=e:"next"===e?s++:s--,s===this.config.slides.length&&(s=0),s<0&&(s=this.config.slides.length-1);const l=this.config.slides[s].sizes;for(let o=0;o<t.length;o++){const e=o;t[e].style.height=this.config.sizes.h/this.settings.rows+"px",t[e].style.top=o*(this.config.sizes.h/this.settings.rows)+"px",t[e].style.display="block",t[e].querySelector(".n-front").style.backgroundImage=`url("${this.slides[this.activeSlide].imageUrl}")`,t[e].querySelector(".n-front").style.backgroundSize=n.newWidth+"px "+n.newHeight+"px",t[e].querySelector(".n-front").style.backgroundPosition=n.left+"px "+-1*(-1*n.top+e*(this.config.sizes.h/this.settings.rows))+"px",t[e].querySelector(".n-front").style.backgroundRepeat="no-repeat",t[e].querySelector(".n-back").style.backgroundImage=`url("${this.slides[s].imageUrl}")`,t[e].querySelector(".n-back").style.backgroundSize=l.newWidth+"px "+l.newHeight+"px",t[e].querySelector(".n-back").style.backgroundPosition=l.left+"px "+-1*(-1*l.top+e*(this.config.sizes.h/this.settings.rows))+"px",t[e].querySelector(".n-back").style.backgroundRepeat="no-repeat"}}getParentSize(){if(!document.getElementById("countFrame")){const e=document.createElement("iframe");e.id="countFrame",e.style.height="100%",e.style.width="100%",e.style.border="0",e.style.margin="0",e.style.padding="0",e.style.top="0",e.style.left="0",e.style.position="fixed",e.style.zIndex="-99",document.body.appendChild(e)}const e=document.getElementById("countFrame").contentWindow;this.config.sizes.h=e.document.body.scrollHeight,this.config.sizes.w=e.document.body.scrollWidth,this.slider.nativeElement.style.height=this.config.sizes.h+"px",e.addEventListener("resize",()=>{this.config.sizes.h=document.body.scrollHeight,this.config.sizes.w=document.body.scrollWidth,this.slider.nativeElement.style.height=this.config.sizes.h+"px",this.setup()})}attachButtonListener(){document.getElementById("slideBullets").querySelectorAll("a").forEach((e,t)=>{const i=e.dataset.index;e.addEventListener("click",e=>{e.preventDefault(),parseInt(i,null)!==this.activeSlide&&this.loop(parseInt(i,null))})}),document.addEventListener("keyup",e=>{"ArrowRight"===e.key&&this.loop(),"ArrowLeft"===e.key&&this.loop("prev")})}onNextClick(e){e.preventDefault(),this.loop()}onPrevClick(e){e.preventDefault(),this.loop("prev")}loop(e,t){var i,s;const n=this.slider.nativeElement.querySelectorAll(".n-holder"),l=this.config.slides[this.activeSlide];if(this.config.onPlay)return;this.config.onPlay=!0,this.preparerow(e),l.style.zIndex=1,l.getElementsByTagName("img")[0].style.opacity=0,this.hideContent(l),void 0===e&&(e="next"),"number"==typeof e?this.activeSlide=e:"next"===e?this.activeSlide++:this.activeSlide--,this.activeSlide===this.config.slides.length&&(this.activeSlide=0),this.activeSlide<0&&(this.activeSlide=this.config.slides.length-1),null===(i=document.querySelector(".current-bullet"))||void 0===i||i.classList.remove("current-bullet"),null===(s=document.querySelector("#slide-bullet-"+this.activeSlide))||void 0===s||s.classList.add("current-bullet"),document.getElementById("slideNumbering").querySelector(".current").innerText=(this.activeSlide+1>9?this.activeSlide+1:"0"+(this.activeSlide+1)).toString();const o=window.navigator.userAgent,c=/MSIE|Trident/.test(o);c&&n.forEach(e=>{e.style.backfaceVisibility="visible"}),Object(d.a)({targets:n,scale:[{value:.8},{value:.5},{value:1}],translateY:[{value:100},{value:-100},{value:-50},{value:0}],rotateX:[{value:"0deg"},{value:"180deg"},{value:"180deg"}],duration:3*this.settings.speed,easing:"easeInOutQuad",update:e=>{c&&34===Math.round(e.progress)&&(n.querySelectorAll(".n-front").forEach(e=>e.style["z-index"]=0),n.querySelectorAll(".n-back").forEach(e=>e.style["z-index"]=1))},delay:d.a.stagger(75,{direction:"reverse"}),complete:()=>{this.showContent(),this.config.slides[this.activeSlide].style.zIndex=2,this.config.slides[this.activeSlide].style.opacity=1,this.config.slides[this.activeSlide].getElementsByTagName("img")[0].style.opacity=1,document.querySelectorAll(".sliderRows").forEach(e=>{e.style.display="none",e.querySelector(".n-holder").style.transform=""}),this.config.onPlay=!1,"function"==typeof t&&t()}})}init(){const e=document.createDocumentFragment();for(let t=0;t<this.settings.rows;t++){const i=document.createElement("div");i.className="sliderRows",i.style.position="absolute",i.style.width="100%",i.style.height=Math.ceil(100/this.settings.rows)+"%",i.style.left="0",i.style.top=t*Math.ceil(100/this.settings.rows)+"%",i.style.zIndex="1",e.appendChild(i),i.innerHTML='<div class="n-holder"><div class="n-front"></div><div class="n-back"></div></div>'}this.slider.nativeElement.appendChild(e),this.getParentSize(),this.setup(),this.play()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-custom-slider"]],viewQuery:function(e,t){var i;1&e&&o.zc(g,!0),2&e&&o.pc(i=o.bc())&&(t.slider=i.first)},inputs:{slides:"slides",activeSlide:"activeSlide"},outputs:{viewDetails:"viewDetails"},decls:5,vars:2,consts:[["id","project-gallery"],["slider",""],[1,"project-items"],["class","project-item hero-slide-item",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"project-item","hero-slide-item"],[3,"src","alt","load"],[1,"gallery-content","d-flex","align-items-center"],[1,"container","d-block"],[1,"entry-title",3,"innerHTML"],[1,"project-cat"],["type","button",1,"btn","btn-outline-light","btn-lg",3,"click"],["id","project-gallery-next","href","#",3,"click"],["id","project-gallery-prev","href","#",3,"click"]],template:function(e,t){1&e&&(o.Tb(0,"div",0,1),o.Tb(2,"ul",2),o.Dc(3,p,10,7,"li",3),o.Sb(),o.Dc(4,y,7,1,"div",4),o.Sb()),2&e&&(o.Bb(3),o.jc("ngForOf",t.slides),o.Bb(1),o.jc("ngIf",t.slides.length>1))},directives:[s.j,s.k,h.a],pipes:[u.c],styles:[""],data:{animation:[a.a]}}),e})();function b(e,t){if(1&e){const e=o.Ub();o.Tb(0,"section",2),o.Tb(1,"app-custom-slider",3),o.ac("viewDetails",(function(t){return o.uc(e),o.ec().onViewDetails(t)})),o.Sb(),o.Sb()}if(2&e){const e=o.ec();o.Bb(1),o.jc("slides",e.slides)("activeSlide",e.activeSlide)}}let v=(()=>{class e{constructor(e,t,i,s){this.projectsService=e,this.route=t,this.router=i,this.location=s,this.key="home.",this.activeSlide=0}ngOnInit(){this.getProjects()}getProjects(){return Object(n.a)(this,void 0,void 0,(function*(){this.slides=yield this.projectsService.getItems().pipe(Object(l.a)(e=>{var t;const i=null===(t=this.route.snapshot)||void 0===t?void 0:t.queryParamMap.get("projectId");return i&&(this.activeSlide=e.findIndex(e=>e.id===i)||0,this.location.replaceState("/")),e.map(e=>Object.assign(Object.assign({},e),{loaded:!1}))})).toPromise()}))}onViewDetails(e){this.router.navigateByUrl("projects/"+e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(c.a),o.Nb(r.a),o.Nb(r.b),o.Nb(s.g))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-home"]],decls:2,vars:1,consts:[["id","site",1,"page"],["id","home","class","page-section site-hero",4,"ngIf"],["id","home",1,"page-section","site-hero"],[3,"slides","activeSlide","viewDetails"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Dc(1,b,2,2,"section",1),o.Sb()),2&e&&(o.Bb(1),o.jc("ngIf",t.slides))},directives:[s.k,f],styles:[""]}),e})();var m=i("HUga"),S=i("nhfI");let w=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[s.c,m.a]]}),e})();const x=[{path:"",pathMatch:"full",component:v}];let j=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[s.c,r.d.forChild(x),m.a,S.c,w]]}),e})()},mrSG:function(e,t,i){"use strict";function s(e,t,i,s){return new(i||(i=Promise))((function(n,l){function o(e){try{r(s.next(e))}catch(t){l(t)}}function c(e){try{r(s.throw(e))}catch(t){l(t)}}function r(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,c)}r((s=s.apply(e,t||[])).next())}))}i.d(t,"a",(function(){return s}))}}]);